<?xml version="1.0" encoding="utf-8" ?>
<Project>

  <PropertyGroup>
    <_ToolCommand Condition=" !($([MSBuild]::VersionGreaterThanOrEquals($(TargetFrameworkVersion), 'v4.0.0')) And $([MSBuild]::VersionLessThan($(TargetFrameworkVersion), 'v5.0.0'))) ">$(MSBuildThisFileDirectory)../tools/netcoreapp3.1/sdgenman.dll</_ToolCommand>
    <_ToolCommand Condition=" $([MSBuild]::VersionGreaterThanOrEquals($(TargetFrameworkVersion), 'v4.0.0')) And $([MSBuild]::VersionLessThan($(TargetFrameworkVersion), 'v5.0.0')) ">$(MSBuildThisFileDirectory)../tools/net472/sdgenman.exe</_ToolCommand>
    <_ToolCommand>$([MSBuild]::NormalizePath($(_ToolCommand)))</_ToolCommand>
  </PropertyGroup>

  <Target Name="GenerateStreamDeckManifest" AfterTargets="Build">
    <Message Importance="high" Text="_ToolCommand: $(_ToolCommand)" />
    <GenerateStreamDeckManifestToolTask Command="$(_ToolCommand)" TargetPath="$(TargetPath)" />
  </Target>

</Project>